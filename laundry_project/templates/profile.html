{% extends 'base.html' %}
{% block title %}Profil - FreshWash Laundry{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-md space-y-12">

  <h1 class="text-3xl font-bold text-blue-600 mb-6 flex items-center space-x-2">
    <i data-lucide="user" class="inline-block"></i>
    <span>Profil Saya</span>
  </h1>

  <!-- Info User -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <div class="flex items-center space-x-2">
      <i data-lucide="user"></i>
      <div>
        <label class="block text-gray-700 font-medium">Username</label>
        <p class="mt-1 text-gray-900">{{ request.user.username }}</p>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <i data-lucide="user-check"></i>
      <div>
        <label class="block text-gray-700 font-medium">Nama Depan</label>
        <p class="mt-1 text-gray-900">{{ request.user.first_name|default:"-" }}</p>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <i data-lucide="user-check"></i>
      <div>
        <label class="block text-gray-700 font-medium">Nama Belakang</label>
        <p class="mt-1 text-gray-900">{{ request.user.last_name|default:"-" }}</p>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <i data-lucide="mail"></i>
      <div>
        <label class="block text-gray-700 font-medium">Email</label>
        <p class="mt-1 text-gray-900">{{ request.user.email }}</p>
      </div>
    </div>
    <div class="flex items-center space-x-2">
      <i data-lucide="phone"></i>
      <div>
        <label class="block text-gray-700 font-medium">Telepon</label>
        <p class="mt-1 text-gray-900">{{ request.user.phone|default:"-" }}</p>
      </div>
    </div>
    <div class="md:col-span-2 flex items-start space-x-2">
      <i data-lucide="map-pin" class="mt-2"></i>
      <div>
        <label class="block text-gray-700 font-medium">Alamat</label>
        <p class="mt-1 text-gray-900">{{ request.user.address|default:"-" }}</p>
      </div>
    </div>
  </div>

  <!-- Form Update Profil -->
  <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
    <h2 class="text-xl font-semibold mb-4 text-blue-600 flex items-center space-x-2">
      <i data-lucide="edit-3"></i>
      <span>Edit Profil</span>
    </h2>
    <form method="POST" class="space-y-4">
      {% csrf_token %}
      {{ profile_form.as_p }}
      <button type="submit" name="update_profile"
              class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition duration-200 flex items-center space-x-2">
        <i data-lucide="save"></i>
        <span>Simpan Perubahan</span>
      </button>
    </form>
  </div>

  <!-- Spacer -->
  <div class="my-6 border-t border-gray-300"></div>

  <!-- Form Update Password -->
  <div class="bg-gray-50 p-6 rounded-lg shadow-inner">
    <h2 class="text-xl font-semibold mb-4 text-red-600 flex items-center space-x-2">
      <i data-lucide="lock"></i>
      <span>Ganti Password</span>
    </h2>
    <form method="POST" class="space-y-4">
      {% csrf_token %}
      {{ password_form.as_p }}
      <button type="submit" name="update_password"
              class="bg-red-600 text-white px-6 py-2 rounded-md hover:bg-red-700 transition duration-200 flex items-center space-x-2">
        <i data-lucide="save"></i>
        <span>Update Password</span>
      </button>
    </form>
  </div>

</div>

<!-- Render Lucide Icons -->
<script>
  lucide.createIcons();
</script>
{% endblock %}
